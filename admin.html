<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Apna Meme Store</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div id="admin-loader" class="loader" style="display: block; margin: 5rem auto;"></div>
    <main class="container" id="admin-content" style="display: none;">
        <header class="admin-header">
            <div><h1>Admin Panel</h1><p>Welcome, <strong id="admin-email"></strong></p></div>
            <button id="logout-btn" class="btn btn-danger">Logout</button>
        </header>
        <section class="admin-section">
            <h2>Product Management</h2>
            <form id="add-product-form">
                <h3 id="product-form-title">Add New Product</h3>
                <input type="hidden" id="edit-product-id" name="editProductId">
                <div class="form-group"><label for="name">Product Name</label><input type="text" id="name" name="name" required></div>
                <div class="form-group"><label for="description">Description</label><textarea id="description" name="description" rows="3" required></textarea></div>
                <div class="form-group"><label for="price">Price (â‚¹)</label><input type="number" id="price" name="price" step="0.01" required></div>
                <div class="form-group"><label for="discount">Discount (%)</label><input type="number" id="discount" name="discount" step="1" value="0"></div>
                <div class="form-group"><label for="imageUrls">Product Image URLs</label><textarea id="imageUrls" name="imageUrls" rows="4" required placeholder="Paste one image URL per line..."></textarea><small>The first URL will be the main display image.</small></div>
                <button type="submit" class="btn btn-primary" id="product-submit-btn">Add Product</button>
                <button type="button" class="btn btn-secondary" id="product-cancel-btn" style="display: none;">Cancel Edit</button>
            </form>
            <hr style="margin: 2rem 0;">
            <h3>Existing Products</h3>
            <div style="overflow-x:auto;"><table><thead><tr><th>Image</th><th>Name</th><th>Price</th><th>Discount</th><th>Actions</th></tr></thead><tbody id="product-list"></tbody></table></div>
        </section>
        <section class="admin-section">
            <h2>Coupon Management</h2>
            <form id="add-coupon-form">
                 <h3 id="coupon-form-title">Add New Coupon</h3><input type="hidden" id="edit-coupon-id" name="editCouponId">
                <div class="form-group"><label for="code">Coupon Code</label><input type="text" id="code" name="code" required></div>
                <div class="form-group"><label for="coupon-discount">Discount Percentage (%)</label><input type="number" id="coupon-discount" name="coupon-discount" required></div>
                <button type="submit" class="btn btn-primary" id="coupon-submit-btn">Add Coupon</button>
                <button type="button" class="btn btn-secondary" id="coupon-cancel-btn" style="display: none;">Cancel Edit</button>
            </form>
            <hr style="margin: 2rem 0;">
             <h3>Existing Coupons</h3>
            <table><thead><tr><th>Code</th><th>Discount</th><th>Status</th><th>Actions</th></tr></thead><tbody id="coupon-list"></tbody></table>
        </section>
        <section class="admin-section">
            <h2>Order Management</h2>
            <div style="overflow-x:auto;"><table><thead><tr><th>Order ID</th><th>Date</th><th>Customer Details</th><th>Items</th><th>Amount</th><th>Actions</th></tr></thead><tbody id="order-list"></tbody></table></div>
        </section>
        <section class="admin-section">
            <h2>Captured Leads</h2>
            <div style="overflow-x:auto;"><table><thead><tr><th>Name</th><th>Phone Number</th><th>Captured On</th></tr></thead><tbody id="leads-list"></tbody></table></div>
        </section>
    </main>
    <script src="/js/auth.js" type="module"></script>
    <script src="/js/admin.js" type="module"></script>
</body>
</html>